<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="/static/jquery-3.6.0.min.js"></script>
</head>
<body>
    <header>
        <h1 class="title">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º</h1>
    </header>
    <div class="menu">
        <ul>
            <li><a href="/">üè†–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li><a href="/results">üìà–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</a></li>
            <li><a href="/admin">üîß–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ</a></li>
            <li><a href="/logout">üö™–í—ã–π—Ç–∏</a></li>
        </ul>
    </div>
    <div class="content">
        <table class="tasks">
            <tr>
                <td>
                    <div class="task">
                        <h2 class="task-title">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–æ—É—Ç–µ—Ä—É <br>–ø–æ WiFi –±–µ–∑ –ø–∞—Ä–æ–ª—è</h2>
                        <span id="w_old_pass">–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å:</span>
                        <button id="button_new_pass">–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
                        <span id="w_new_pass"></span>
                        <script>
                            $( document ).ready(function() {
                                $.get(
                                  "/w_get_pass/",
                                  {},
                                  onAjaxSuccess
                                );
                    
                                function onAjaxSuccess(data)
                                {
                                  data_json = JSON.parse(data);
                                  if (data_json.status == 'ok') {
                                    $("#w_old_pass").html('–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å: ' + data_json.response.password);
                                    console.log(data_json.response.password);
                                  }
                                  else {
                                    $("#w_old_pass").html('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: ' + data_json.error);
                                  }
                                }
                            });
                    
                            $( "#button_new_pass" ).click(function() {
                              $("#w_new_pass").html('–ü–æ–¥–æ–∂–¥–∏—Ç–µ...');
                              $.post(
                                  "/w_change_pass/",
                                  {},
                                  onAjaxSuccess
                                );
                    
                                function onAjaxSuccess(data)
                                {
                                  data_json = JSON.parse(data);
                                  if (data_json.status == 'ok') {
                                    $("#w_new_pass").html('–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å: ' + data_json.response.password);
                                    $("#w_old_pass").html('–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å: ' + data_json.response.password);
                                  }
                                  else {
                                    $("#w_new_pass").html('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: ' + data_json.error);
                                  }
                                }
                            });
                        </script>
                    </div>
                </td>
                <td>
                    <div class="task">
                        <h2 class="task-title">–≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è Bash-—É—è–∑–≤–∏–º–æ—Å—Ç–∏</h2>
                        <span id="b_total_files">–í—Å–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:</span>
                        <button id="b_clear">–û—á–∏—Å—Ç–∏—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ</button>

                        <script>
                            $( document ).ready(function() {
                                $.get(
                                  "/b_get_count/",
                                  {},
                                  onAjaxSuccess
                                );
                    
                                function onAjaxSuccess(data)
                                {
                                  data_json = JSON.parse(data);
                                  if (data_json.status == 'ok') {
                                    $("#b_total_files").html('–í—Å–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: ' + data_json.response.count);
                                  }
                                  else {
                                    $("#b_total_files").html('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: ' + data_json.error);
                                  }
                                }
                            });
                    
                            $( "#b_clear" ).click(function() {
                              $.post(
                                  "/b_clear/",
                                  {},
                                  onAjaxSuccess
                                );
                    
                                function onAjaxSuccess(data)
                                {
                                  data_json = JSON.parse(data);
                                  if (data_json.status == 'ok') {
                                    $("#b_total_files").html('–í—Å–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: ' + data_json.response.count);
                                  }
                                  else {
                                    $("#b_total_files").html('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: ' + data_json.error);
                                  }
                                }
                            });
                        </script>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="task">
                        <h2 class="task-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–º–Ω—ã–º –¥–æ–º–æ–º. <br>–õ–∞–º–ø–æ—á–∫–∞</h2>
                        <span id="m1_current">–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: On</span>
                        <button id="m1_reload">–û–±–Ω–æ–≤–∏—Ç—å</button>
                        <button id="m1_off">–í—ã–∫–ª—é—á–∏—Ç—å</button>
                        <button id="m1_on">–í–∫–ª—é—á–∏—Ç—å</button>
                    </div>
                </td>
                <td>
                    <div class="task">
                        <h2 class="task-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–º–Ω—ã–º –¥–æ–º–æ–º. <br>–ü–æ—Ä–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞—Ç—á–∏–∫–∞</h2>
                        <span id="m2_current">–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: None</span>
                        <button id="m2_reload">–û–±–Ω–æ–≤–∏—Ç—å</button>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="task">
                        <h2 class="task-title">NONAME</h2>
                    </div>
                </td>
                <td>
                    <div class="task">
                        <h2 class="task-title">NONAME</h2>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</body>
</html>